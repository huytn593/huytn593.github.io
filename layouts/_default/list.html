{{ define "head" }}
<meta name="description" content="{{ .Title }} of {{ .Site.Title }}">
<link rel="stylesheet" href="{{ .Site.Params.staticPath }}/css/list.css" media="all">
<link rel="stylesheet" href="/css/custom.css">
{{ end }}

{{ define "title" }}
{{.Title }} | {{ .Site.Title }}
{{ end }}

{{ define "main" }}
<section id="blogs" class="py-5">
    <div class="container">
        <h3 class="text-center">{{.Title}}</h3>
        {{ if .Description }}
        <p class="text-center text-secondary mb-4" style="max-width: 600px; margin: 0 auto 2rem auto;">
            {{ .Description }}
        </p>
        {{ end }}
        <div class="row justify-content-center px-3 px-md-5">
            {{ if .Paginator.Pages }}
                {{ range $index, $element := .Paginator.Pages }}
                <div class="col-lg-4 col-md-6 my-3">
                    <a href="{{ .Permalink }}" class="blog-card">
                        {{ if .Params.image }}
                        <div class="blog-image-wrapper">
                            <img src="{{ if hasPrefix .Params.image "/" }}{{ .Params.image }}{{ else }}/{{ .Params.image }}{{ end }}" 
                                 alt="{{ .Title }}" 
                                 class="blog-image"
                                 loading="lazy"
                                 onerror="this.parentElement.style.display='none';">
                        </div>
                        {{ end }}
                        <div class="card-body">
                            <h5 class="card-title">{{ .Title }}</h5>
                            <div class="card-text secondary-font">
                                {{ if .Description }}
                                    {{ .Description | plainify | truncate 90 }}
                                {{ else if .Summary }}
                                    {{ .Summary | plainify | truncate 90 }}
                                {{ else }}
                                    {{ .Content | plainify | truncate 90 }}
                                {{ end }}
                            </div>
                            <div class="blog-meta">
                                <div class="blog-date">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <polyline points="12 6 12 12 16 14"></polyline>
                                    </svg>
                                    {{ .Date.Format "02/01/2006" }}
                                </div>
                                {{ if .Params.tags }}
                                <div class="blog-tags">
                                    {{ range first 2 .Params.tags }}
                                    <span class="badge" style="background-color: rgba(0, 188, 212, 0.2); color: #00bcd4;">{{ . }}</span>
                                    {{ end }}
                                </div>
                                {{ end }}
                            </div>
                            <div class="read-more">
                                Đọc thêm
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                    <polyline points="12 5 19 12 12 19"></polyline>
                                </svg>
                            </div>
                        </div>
                    </a>
                </div>
                {{ end }}
            {{ else }}
                <div class="col-12">
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                        <h4>Chưa có bài viết nào</h4>
                        <p>Blog posts sẽ được hiển thị ở đây khi có nội dung.</p>
                    </div>
                </div>
            {{ end }}
        </div>
        {{ if .Paginator.Pages }}
        <div class="row justify-content-center mt-4">
            <div class="col-auto">
                {{template "_internal/pagination.html" . }}
            </div>
        </div>
        {{ end }}
    </div>
</section>
{{ end }}

